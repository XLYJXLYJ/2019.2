webpackJsonp([1],{"42Hy":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("woOf"),o=r.n(a),n=r("mvHQ"),i=r.n(n),s=r("i5qY"),c=r("Wn42"),l=r.n(c),u={name:"Index",data:function(){return{dataInfo:{sort:"",taskName:""},fileListNum:"",loading:"",options:{target:"/merchant/v2.0/inspection/audio_upload",testChunks:!1,fileParameterName:"audio_transfer"},attrs:{accept:".mp3,.wav,.m4a,.opus,.flac,.WAV,.MP3,.M4A,.OPUS,.FLAC"},arrUser:[],arrSongs:[],objArr:{},uploadNum:0,successNum:0}},filters:{capitalize:function(t){return parseInt(t)}},mounted:function(){var t=window.location.href;document.title=t},methods:{uploadMusic:function(){this.dataInfo.taskName?this.dataInfo.sort||this.$message("请选择录音类型"):this.$message("请输入任务名称")},onFileRemove:function(t,e){var r=t.id;delete this.objArr[r],this.uploadNum=this.uploadNum-1,this.successNum=this.successNum-1},login:function(){var t=this;this.axios.post("/merchant/v1.0/sessions",l.a.stringify({mobile:18320863946,password:12345678})).then(function(e){var r=e.data.data.name+"&&"+e.data.data.company+"&&"+e.data.data.customer_service_status+"&&"+e.data.data.user_xa_status+"&&"+e.data.data.robot_hopper+"&&"+e.data.data.user_id;t.setCookie("user",r,1)})},submitUpload:function(){var t=this;if(this.dataInfo.taskName)if(this.dataInfo.sort)if(this.uploadNum!==this.successNum-1&&this.uploadNum!==this.successNum)this.$message("录音正在上传中，请稍等...");else if(this.successNum>10)this.$message("上传次数超过限制，请删除超过项目");else{for(var e in this.objArr)this.arrSongs.push(this.objArr[e]);this.axios.put("/merchant/v2.0/inspection/audio_upload",l.a.stringify({task_name:this.dataInfo.taskName,record_type:this.dataInfo.sort,all_transfer_number:i()(this.arrSongs)})).then(function(e){200==e.data.status&&t.$router.push({name:"Task"})})}else this.$message("请选择录音类型");else this.$message("请输入任务名称")},onFileSuccess:function(t,e,r,a){var n=JSON.parse(r),i={},s=e.id,c=n.data.all_transfer_number[0];i[s]=c,o()(this.objArr,i),this.successNum=this.successNum+1},onFileAdded:function(t,e){this.uploadNum=this.uploadNum+1,this.successNum>10&&(t.ignored=!0,this.$message("上传次数超过限制"))},ErrorEv:function(t,e,r){this.$router.push({name:"Task"})},Progress:function(t,e,r){this.fileListNum=r},preview:function(t){},change:function(t,e){this.$nextTick(function(){this.fileListNum=e})},remove:function(t,e){this.$nextTick(function(){this.fileListNum=e})}},components:{Head:s.a}},f={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"index",attrs:{"element-loading-text":"正在创建任务，请稍等","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.6)"}},[r("Head"),t._v(" "),r("div",{staticClass:"head-content"},[r("div",{staticClass:"head-content-center"},[r("div",{staticClass:"task-concent"},[r("p",{staticClass:"language"},[t._v("语音质检")]),t._v(" "),r("div",{staticClass:"name"},[r("span",{staticClass:"task-name"},[t._v("任务名称：")]),t._v(" "),r("el-input",{staticClass:"task-name-input",attrs:{maxlength:15,placeholder:"请输入任务名称,长度不超过15个字"},model:{value:t.dataInfo.taskName,callback:function(e){t.$set(t.dataInfo,"taskName",e)},expression:"dataInfo.taskName"}})],1),t._v(" "),r("el-form",[r("span",{staticClass:"upload-task-name"},[t._v("上传音频：")]),t._v(" "),r("div",{staticClass:"upload"}),t._v(" "),r("uploader",{staticClass:"uploader",attrs:{options:t.options},on:{"file-success":t.onFileSuccess,"file-added":t.onFileAdded,"file-removed":t.onFileRemove}},[r("uploader-unsupport"),t._v(" "),r("uploader-drop",[r("uploader-btn",{attrs:{attrs:t.attrs}},[t._v("选择录音")])],1),t._v(" "),r("uploader-list")],1)],1),t._v(" "),r("div",{staticClass:"language-sort"},[r("div",{staticClass:"name"},[r("span",{staticClass:"task-name"},[t._v("录音类型选择：")]),t._v(" "),r("el-radio",{staticStyle:{color:"#666"},attrs:{label:"电销外呼"},model:{value:t.dataInfo.sort,callback:function(e){t.$set(t.dataInfo,"sort",e)},expression:"dataInfo.sort"}},[t._v("电销外呼")]),t._v(" "),r("el-radio",{staticStyle:{color:"#666"},attrs:{label:"现场查勘"},model:{value:t.dataInfo.sort,callback:function(e){t.$set(t.dataInfo,"sort",e)},expression:"dataInfo.sort"}},[t._v("现场查勘")])],1)]),t._v(" "),t._m(0),t._v(" "),r("div",{staticClass:"sumit",on:{click:function(e){return t.submitUpload()}}},[r("el-button",{staticStyle:{"background-color":"#524AE7","border-color":"#524AE7",color:"#fff"},attrs:{type:"primary"}},[t._v("创建任务")])],1)],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"upload-tips"},[e("p",{staticClass:"main"},[this._v("上传提示：")]),this._v(" "),e("p",{staticClass:"small"},[this._v("每条音频不能超过500M(音频时长不能超过5小时),可同时支持10个音频文件上传。")]),this._v(" "),e("p",{staticClass:"small"},[this._v("目前支持wav、flac、opus、mp3、m4a的音频格式。")])])}]};var d=r("VU/8")(u,f,!1,function(t){r("CQdz")},"data-v-299db9ac",null);e.default=d.exports},CQdz:function(t,e){},"S/QA":function(t,e,r){"use strict";var a=r("uALp"),o=r("V9hu"),n={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},i=Array.isArray,s=Array.prototype.push,c=function(t,e){s.apply(t,i(e)?e:[e])},l=Date.prototype.toISOString,u={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},f=function t(e,r,o,n,i,s,l,f,d,p,h,m,v){var y=e;if("function"==typeof l?y=l(r,y):y instanceof Date&&(y=p(y)),null===y){if(n)return s&&!m?s(r,u.encoder,v):r;y=""}if("string"==typeof y||"number"==typeof y||"boolean"==typeof y||a.isBuffer(y))return s?[h(m?r:s(r,u.encoder,v))+"="+h(s(y,u.encoder,v))]:[h(r)+"="+h(String(y))];var g,b=[];if(void 0===y)return b;if(Array.isArray(l))g=l;else{var N=Object.keys(y);g=f?N.sort(f):N}for(var _=0;_<g.length;++_){var j=g[_];i&&null===y[j]||(Array.isArray(y)?c(b,t(y[j],o(r,j),o,n,i,s,l,f,d,p,h,m,v)):c(b,t(y[j],r+(d?"."+j:"["+j+"]"),o,n,i,s,l,f,d,p,h,m,v)))}return b};t.exports=function(t,e){var r=t,i=e?a.assign({},e):{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!=typeof i.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===i.delimiter?u.delimiter:i.delimiter,l="boolean"==typeof i.strictNullHandling?i.strictNullHandling:u.strictNullHandling,d="boolean"==typeof i.skipNulls?i.skipNulls:u.skipNulls,p="boolean"==typeof i.encode?i.encode:u.encode,h="function"==typeof i.encoder?i.encoder:u.encoder,m="function"==typeof i.sort?i.sort:null,v=void 0===i.allowDots?u.allowDots:!!i.allowDots,y="function"==typeof i.serializeDate?i.serializeDate:u.serializeDate,g="boolean"==typeof i.encodeValuesOnly?i.encodeValuesOnly:u.encodeValuesOnly,b=i.charset||u.charset;if(void 0!==i.charset&&"utf-8"!==i.charset&&"iso-8859-1"!==i.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===i.format)i.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,i.format))throw new TypeError("Unknown format option provided.");var N,_,j=o.formatters[i.format];"function"==typeof i.filter?r=(_=i.filter)("",r):Array.isArray(i.filter)&&(N=_=i.filter);var A,O=[];if("object"!=typeof r||null===r)return"";A=i.arrayFormat in n?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var w=n[A];N||(N=Object.keys(r)),m&&N.sort(m);for(var k=0;k<N.length;++k){var C=N[k];d&&null===r[C]||c(O,f(r[C],C,w,l,d,p?h:null,_,m,v,y,j,g,b))}var x=O.join(s),S=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&(S+="iso-8859-1"===b?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),x.length>0?S+x:""}},V9hu:function(t,e,r){"use strict";var a=String.prototype.replace,o=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return a.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},Wn42:function(t,e,r){"use strict";var a=r("S/QA"),o=r("Y0hB"),n=r("V9hu");t.exports={formats:n,parse:o,stringify:a}},Y0hB:function(t,e,r){"use strict";var a=r("uALp"),o=Object.prototype.hasOwnProperty,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,decoder:a.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},i=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},s=function(t,e,r){if(t){var a=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,n=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(a),s=i?a.slice(0,i.index):a,c=[];if(s){if(!r.plainObjects&&o.call(Object.prototype,s)&&!r.allowPrototypes)return;c.push(s)}for(var l=0;null!==(i=n.exec(a))&&l<r.depth;){if(l+=1,!r.plainObjects&&o.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(i[1])}return i&&c.push("["+a.slice(i.index)+"]"),function(t,e,r){for(var a=e,o=t.length-1;o>=0;--o){var n,i=t[o];if("[]"===i&&r.parseArrays)n=[].concat(a);else{n=r.plainObjects?Object.create(null):{};var s="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,c=parseInt(s,10);r.parseArrays||""!==s?!isNaN(c)&&i!==s&&String(c)===s&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(n=[])[c]=a:n[s]=a:n={0:a}}a=n}return a}(c,e,r)}};t.exports=function(t,e){var r=e?a.assign({},e):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||a.isRegExp(r.delimiter)?r.delimiter:n.delimiter,r.depth="number"==typeof r.depth?r.depth:n.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:n.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:n.decoder,r.allowDots=void 0===r.allowDots?n.allowDots:!!r.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:n.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:n.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:n.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:n.strictNullHandling,void 0!==r.charset&&"utf-8"!==r.charset&&"iso-8859-1"!==r.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0===r.charset&&(r.charset=n.charset),""===t||null===t||void 0===t)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var r,s={},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,l=e.parameterLimit===1/0?void 0:e.parameterLimit,u=c.split(e.delimiter,l),f=-1,d=e.charset;if(e.charsetSentinel)for(r=0;r<u.length;++r)0===u[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[r]?d="utf-8":"utf8=%26%2310003%3B"===u[r]&&(d="iso-8859-1"),f=r,r=u.length);for(r=0;r<u.length;++r)if(r!==f){var p,h,m=u[r],v=m.indexOf("]="),y=-1===v?m.indexOf("="):v+1;-1===y?(p=e.decoder(m,n.decoder,d),h=e.strictNullHandling?null:""):(p=e.decoder(m.slice(0,y),n.decoder,d),h=e.decoder(m.slice(y+1),n.decoder,d)),h&&e.interpretNumericEntities&&"iso-8859-1"===d&&(h=i(h)),o.call(s,p)?s[p]=a.combine(s[p],h):s[p]=h}return s}(t,r):t,l=r.plainObjects?Object.create(null):{},u=Object.keys(c),f=0;f<u.length;++f){var d=u[f],p=s(d,c[d],r);l=a.merge(l,p,r)}return a.compact(l)}},mvHQ:function(t,e,r){t.exports={default:r("qkKv"),__esModule:!0}},qkKv:function(t,e,r){var a=r("FeBl"),o=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},uALp:function(t,e,r){"use strict";var a=Object.prototype.hasOwnProperty,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),n=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},a=0;a<t.length;++a)void 0!==t[a]&&(r[a]=t[a]);return r};t.exports={arrayToObject:n,assign:function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],a=0;a<e.length;++a)for(var o=e[a],n=o.obj[o.prop],i=Object.keys(n),s=0;s<i.length;++s){var c=i[s],l=n[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:n,prop:c}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(Array.isArray(r)){for(var a=[],o=0;o<r.length;++o)void 0!==r[o]&&a.push(r[o]);e.obj[e.prop]=a}}}(e),t},decode:function(t,e,r){var a=t.replace(/\+/g," ");if("iso-8859-1"===r)return a.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(a)}catch(t){return a}},encode:function(t,e,r){if(0===t.length)return t;var a="string"==typeof t?t:String(t);if("iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var n="",i=0;i<a.length;++i){var s=a.charCodeAt(i);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?n+=a.charAt(i):s<128?n+=o[s]:s<2048?n+=o[192|s>>6]+o[128|63&s]:s<55296||s>=57344?n+=o[224|s>>12]+o[128|s>>6&63]+o[128|63&s]:(i+=1,s=65536+((1023&s)<<10|1023&a.charCodeAt(i)),n+=o[240|s>>18]+o[128|s>>12&63]+o[128|s>>6&63]+o[128|63&s])}return n},isBuffer:function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,r,o){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(o&&(o.plainObjects||o.allowPrototypes)||!a.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var i=e;return Array.isArray(e)&&!Array.isArray(r)&&(i=n(e,o)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,n){a.call(e,n)?e[n]&&"object"==typeof e[n]?e[n]=t(e[n],r,o):e.push(r):e[n]=r}),e):Object.keys(r).reduce(function(e,n){var i=r[n];return a.call(e,n)?e[n]=t(e[n],i,o):e[n]=i,e},i)}}}});
//# sourceMappingURL=1.e58fb922e3e61dd3be6e.js.map